# ========================
# Application Core Settings
# ========================
APP_DOMAIN=nduta.x
NODE_ENV=development
HOST=localhost
PORT=8080
CORS_ORIGIN="http://localhost:*"
IMAGE_BANNER=https://cdn.prod.website-files.com/66585fe0e1dc7e70cc75d440/66a3154b6213d328633433d5_Deriv%20Bot.webp
SPACE_CHARACTER="â€Ž"

# ========================
# Connection & Network
# ========================
CONNECTION_MAXIMUM_ATTEMPTS=5
CONNECTION_ATTEMPTS_TIMEOUT=3000
CONNECTION_ATTEMPTS_TIMEOUT_INCREMENT=3
CONNECTION_PING_TIMEOUT=30000
CONNECTION_CONTRACT_CREATION_TIMEOUT=60000
CONNECTION_RETRY_DELAY=3000
COMMON_RATE_LIMIT_MAX_REQUESTS=1000
COMMON_RATE_LIMIT_WINDOW_MS=3600

# ========================
# Security & Cryptography
# ========================
APP_CRYPTOGRAPHIC_KEY=f4b9c2e7a1d5f8c3b6e9d0a4f7c1e3b8d2a5f9c6e8b0d3a7f1c4e9b2d6a8f5c0
SESSION_SECRET=pass123
SESSION_NAME=nduta.sid
SESSION_COOKIE_DOMAIN=nduta.x
SESSION_COOKIE_SECURE=false  # true in production
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax
SESSION_COOKIE_MAX_AGE=86400000  # 24h
SESSION_RESAVE=false
SESSION_SAVE_UNINITIALIZED=false

# ========================
# Database (MongoDB)
# ========================
MONGODB_CONNECTION_STRING=mongodb://localhost:27017
MONGODB_CONNECTION_STRINGX=mongodb+srv://chloefxd20607:1f4Brdsn6WCt4m9j@cluster0.rhuko.mongodb.net/
MONGODB_DATABASE_NAME=ndutax_db
MONGODB_BACKUP_PATH=./files/databases/mongodb/backups/
MONGODB_MAX_RETRIES=5
MONGODB_RETRY_DELAY=3000
DB_SERVER_SESSIONS_DATABASE_COLLECTION=ndtx_sessions
DB_USER_ACCOUNT_DATABASE_COLLECTION=ndtx_users
DB_DERIV_TRADE_RESULT_DATABASE_COLLECTION=dv_trade_results
DB_SERVER_SESSIONS_DATABASE_TTL="1 week"

# ========================
# Deriv API & Trading
# ========================
DERIV_APP_ID=1089
DERIV_APP_TOKEN=kpmAHumePAOYmWE
DERIV_APP_URL=https://localhost:8080
DERIV_APP_TG_URL=https://t.me/ndutax_bot
DERIV_APP_LOGIN_URL=https://inboxgroup.ai/test/scripts/oauth.html
DERIV_APP_OAUTH_URL=https://oauth.deriv.com/oauth2/authorize?app_id=68182
DERIV_APP_OAUTH_CHANNEL=telegram-bot-oauth
DERIV_APP_OAUTH_LOGIN_URL=/oauth/login
DERIV_APP_OAUTH_CALLBACK_INIT_URL=/oauth/callback-init
DERIV_APP_OAUTH_CALLBACK_URL=/oauth/callback
DERIV_APP_ENDPOINT=wss://ws.derivws.com/websockets/v3?app_id=
DERIV_APP_ENDPOINT_DOMAIN=ws.derivws.com
DERIV_APP_ENDPOINT_APP_ID=68182
DERIV_APP_ENDPOINT_LANG=EN
MAX_STAKE=5000
MIN_STAKE=0.35
MAX_RECOVERY_TRADES=4

# ========================
# Circuit Breaker (Risk Management)
# ========================
# Loss Limits
MAX_ABSOLUTE_LOSS=1000
MAX_DAILY_LOSS=500
MAX_CONSECUTIVE_LOSSES=3
MAX_BALANCE_PERCENTAGE_LOSS=0.5

# Rapid Loss Protection
RAPID_LOSS_TIME_WINDOW_MS=30000       # 30s
RAPID_LOSS_THRESHOLD=3                # 2 losses
RAPID_LOSS_INITIAL_COOLDOWN_MS=30000  # 30s
RAPID_LOSS_MAX_COOLDOWN_MS=300000     # 5min
RAPID_LOSS_COOLDOWN_MULTIPLIER=2      # 2x

# General Cooldown
COOLDOWN_PERIOD_MS=60000              # 1min

# ========================
# Third-Party Integrations
# ========================
TELEGRAM_BOT_TOKEN=7325482342:AAHp1rhZevJoudPTyzYETk3J4FWSj7Tprwg
PUSHER_TOKEN=d7c8541eaeb8ad290bb1
PUSHER_CLUSTER=ap2
PUSHER_APP_ID=1953773
PUSHER_APP_SECRET=aea9a2d72a60d56aaa79